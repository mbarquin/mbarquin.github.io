<!DOCTYPE html><html lang="es-ES"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Publicación de desarrollos, análisis y tests sobre las nuevas librerías y herramientas para la programación PHP"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@mercenariophp"><meta name="twitter:title" content="Tutorial de Symfony 3: Twig, base layout con Bootstrap"><meta name="twitter:description" content="Continuamos con la serie sobre Symfony, esta vez vamos a tocar el tema de los templates. Con el metalenguaje Twig y atendiendo al estándar de tres niveles propuesto por Symfony, vamos a implementar un sistema de plantillas que nos permita utilizar un framework cliente HTML (responsive)"><meta name="twitter:image" content="https://www.mercenariophp.com/images/tutorialSymfony/twigLogo.png"><title>Tutorial de Symfony 3: Twig, base layout con Bootstrap | mercenariophp</title><link rel="stylesheet" type="text/css" href="/css/normalize.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/pure-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Tutorial de Symfony 3: Twig, base layout con Bootstrap</h1><a id="logo" href="/.">mercenariophp</a><p class="description">Experimentos y anotaciones de un dev</p></div><div id="nav-menu"><a href="/." class="current"><i class="icon-home"> Inicio</i></a><a href="/archives/"><i class="icon-archive"> Archivo</i></a><a href="/repos/"><i class="icon-github"> Repos</i></a><a href="/mbarquin/"><i class="icon-about"> mbarquin</i></a><a href="/atom.xml"><i class="icon-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post post-page"><h1 class="post-title">Tutorial de Symfony 3: Twig, base layout con Bootstrap</h1><div class="post-meta">27 / 12 / 2016<span class="categories"> | Guardado en<a href="/categories/Tutoriales-Symfony/"> Tutoriales Symfony</a></span></div><span data-disqus-identifier="tutorial-symfony-twig/" class="disqus-comment-count"></span><div class="post-content"><p><img src="/images/tutorialSymfony/twigLogo.png" alt><br>Continuamos con la serie sobre <a href="https://symfony.com/" target="_blank" rel="noopener">Symfony</a>, esta vez vamos a tocar el tema de los templates. Con el metalenguaje <a href="http://twig.sensiolabs.org/" target="_blank" rel="noopener">Twig</a> y atendiendo al estándar de tres niveles propuesto por Symfony, vamos a implementar un sistema de plantillas que nos permita utilizar un framework cliente HTML (responsive), <a href="http://getbootstrap.com/" target="_blank" rel="noopener">Bootstrap</a>, como salida de nuestras aplicaciones. Quizás sería más sencillo si el HTML fuese maquetado con funciones PHP nativas, pero sea como sea, es cierto que este concepto aleja la representación de la información de la lógica de negocio, poniéndolos en dos capas totalmente separadas. Además a día de hoy los sistemas de plantillas como smarty o twig hacen uso de estrategias que minimizan el impacto de esta capa sobre los proyectos, como compilar las plantillas a PHP nativo de manera transparente cada vez que se encuentra un cambio en una de ellas. La idea es crear un Layout, una plantilla global con la estructura básica de la página y con la inicialización del framework cliente, en ella inyectaremos los diferentes apartados que iremos creando para nuestra web.</p>
<a id="more"></a>

<h3 id="Instalacion-del-Layout-mediante-Composer"><a href="#Instalacion-del-Layout-mediante-Composer" class="headerlink" title="Instalación del Layout mediante Composer."></a>Instalación del Layout mediante Composer.</h3><p>Lo primero es implementar una librería HTML que nos proporcione un layout básico para el backend, un conjunto de plantillas que conformen el marco de la pagina (menús, cabecera, estilos, etc…) donde insertar nuestros interfaces para la gestión. Vamos a escoger un framework cliente (HTML, CSS, JS) que nos garantice unos componentes básicos para trabajar más rápido y unos estilos homogéneos entre todos los elementos, también buscamos que tenga la capacidad de adaptarse a la mayoría de los dispositivo desde los que se pueda acceder. <a href="http://getbootstrap.com/" target="_blank" rel="noopener">Bootstrap</a> lleva ya tiempo funcionando, se basa en <a href="https://jquery.com/" target="_blank" rel="noopener">JQuery</a> y tiene algunas plantillas básicas que servirán perfectamente para este cometido. NO voy a entrar en nada de <a href="http://getbootstrap.com/" target="_blank" rel="noopener">Bootstrap</a>, es un framework sencillo, y voy a copiar el maquetado de los ejemplos que ya provee la plantilla. El maquetado y declaración de los componentes se puede realizar con clases CSS y etiquetas HTML, mediante estilos se pueden generar cuadriculas en los marcos que conforman la pagina y el motor JS se encargará de moverlas, redimensionarlas o hacer que cambie su comportamiento en atención al navegador del cliente.</p>
<p>Escogemos una plantilla ya hecha, de los ejemplos de la página <a href="https://startbootstrap.com/" target="_blank" rel="noopener">startBootstrap</a>, el layout <a href="https://startbootstrap.com/template-overviews/sb-admin-2/" target="_blank" rel="noopener">SB Admin 2</a>. Este se compone de tres grandes bloques, el Titulo/menú superior, el menú lateral de navegación y un bloque central vacío para nuestros componentes. Además es 100% responsive.</p>
<p>Para integrarlo en nuestro proyecto vamos a utilizar <a href="https://getcomposer.org/" target="_blank" rel="noopener">Composer</a>, <a href="http://getbootstrap.com/" target="_blank" rel="noopener">Bootstrap</a> gestiona sus dependencias a través de herramientas JS similares a <a href="https://getcomposer.org/" target="_blank" rel="noopener">Composer</a>, pero no compatibles. Por suerte el proyecto está disponible en <a href="https://github.com/" target="_blank" rel="noopener">Github</a> con las dependencias ya integradas. Así que, en el archivo composer.json vamos a generar un <a href="https://getcomposer.org/doc/05-repositories.md#repository" target="_blank" rel="noopener"><strong>repositorio</strong></a> tipo Git para poder instalar o updatear el paquete de manera estándar. Un <a href="https://getcomposer.org/doc/05-repositories.md#repository" target="_blank" rel="noopener"><strong>repositorio de composer</strong></a> almacena la información básica de un paquete, el nombre, las versiones disponibles y el origen de los fuentes (Zip, sistema de versionado git, SVN, etc…).</p>
<p>En el primer nivel del esquema composer.json, después de cerrar la entrada de autoload o description, podemos incluir el elemento <strong>repositories</strong>.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">"repositories": [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"package"</span>,</span><br><span class="line">            <span class="attr">"package"</span>: &#123;</span><br><span class="line">                <span class="attr">"name"</span>: <span class="string">"BlackrockDigital/startbootstrap-sb-admin-2"</span>,</span><br><span class="line">                <span class="attr">"version"</span>: <span class="string">"3.3.7+1"</span>,</span><br><span class="line">                <span class="attr">"source"</span>: &#123;</span><br><span class="line">                    <span class="attr">"url"</span>: <span class="string">"https://github.com/BlackrockDigital/startbootstrap-sb-admin-2.git"</span>,</span><br><span class="line">                    <span class="attr">"type"</span>: <span class="string">"git"</span>,</span><br><span class="line">                    <span class="attr">"reference"</span>: <span class="string">"v3.3.7+1"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure>

<p>Tampoco me voy a parar demasiado, los índices son bastante descriptivos, podéis ampliar la información haciendo click en la palabra <a href="https://getcomposer.org/doc/05-repositories.md#repository" target="_blank" rel="noopener"><strong>repositorio</strong></a>.</p>
<p>Posteriormente definimos la dependencia para utilizar el repositorio, añadimos esta linea al final del apartado <strong>require</strong> del composer.json</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"BlackrockDigital/startbootstrap-sb-admin-2": "^3.0"</span><br></pre></td></tr></table></figure>

<p>Antes de instalar el SB Admin nos queda un último problema por solucionar, el template se almacena en la carpeta privada vendor, de manera que los navegadores no tienen acceso a ella. Si no queremos generar el plugin descrito en los siguientes párrafos, y si estamos desarrollando en Linux, se pueden hacer unos simples enlaces simbólicos en la carpeta /web a las librerías de CSS y JS. Alojadas en las carpetas dist y vendor, dentro de /vendor/BlackrockDigital/startbootstrap-sb-admin-2. Si estamos en Windows habrá que copiar estos contenidos al directorio público.</p>
<p>Para evitar cualquier diferencia y automatizar futuras instalaciones, he decidido crear un plugin de post-instalacion/post-update que copia estas estructuras al apartado público. Si queremos actualizar las librerías será tan sencillo como indizar las nuevas versiones dentro de repositories en el composer.json, y ejecutar <code>composer update</code> para recibir los fuentes en el lugar adecuado.</p>
<p>Dentro de la carpeta src/AppBundle creamos un nuevo directorio al que llamamos Install y dentro de esta creamos el fuente PostInstallScript.php .</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Class bootstrap installer class file</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * (c) Moisés Barquín &lt;moises.barquin<span class="doctag">@gmail</span>.com&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * For the full copyright and license information, please view the LICENSE</span></span><br><span class="line"><span class="comment"> * file that was distributed with this source code.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * PHP version 7.0</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@package</span>    symfonyMerc</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@subpackage</span> Install</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>     Moises Barquin &lt;moises.barquin<span class="doctag">@gmail</span>.com&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@copyright</span>  (c) 2016, Moisés Barquín &lt;moises.barquin<span class="doctag">@gmail</span>.com&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span>    GIT: $Id$</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">AppBundle</span>\<span class="title">Install</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Composer</span>\<span class="title">Installer</span>\<span class="title">PackageEvent</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Composer</span>\<span class="title">Package</span>\<span class="title">Package</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * startbootstrap-sb-admin-2 installer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * After a composer  install/update It copies sources</span></span><br><span class="line"><span class="comment"> * from startbootstrap-sb-admin-2 package into public</span></span><br><span class="line"><span class="comment"> * src directory</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * startbootstrap-sb-admin-2 Is not composer friendly</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostInstallScript</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> packageName    = <span class="string">'blackrockdigital/startbootstrap-sb-admin-2'</span>;</span><br><span class="line">    <span class="keyword">const</span> jobTypeUpdate  = <span class="string">'update'</span>;</span><br><span class="line">    <span class="keyword">const</span> jobTypeInstall = <span class="string">'install'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> $bootstrapUpdated = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Invoked by composer after a succesful package update operation</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> PackageEvent $event</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">postPackageUpdate</span><span class="params">(PackageEvent $event)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">         <span class="keyword">static</span>::checkPackage($event);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Invoked by composer after a succesful package install operation</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> PackageEvent $event</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">postPackageInstall</span><span class="params">(PackageEvent $event)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">static</span>::checkPackage($event);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Copies package dist files and related vendor packages into public dir</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> PackageEvent $event</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Package      $oPackage</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string       $packageName</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">copyPublicFiles</span><span class="params">(PackageEvent $event, $oPackage, $packageName)</span> </span>&#123;</span><br><span class="line">        $installMng = $event-&gt;getComposer()-&gt;getInstallationManager();</span><br><span class="line">        $originDir  = $installMng-&gt;getInstallPath($oPackage);</span><br><span class="line"></span><br><span class="line">        $auxArray   = explode(<span class="string">"/"</span>, $packageName);</span><br><span class="line">        $vendorName = <span class="string">'/'</span>.$auxArray[<span class="number">1</span>];</span><br><span class="line">        $targetName = getcwd().<span class="string">"/web/vendor"</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"\nCopying files into public folder\n\tvendor/"</span>.$vendorName;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">static</span>::recurse_copy($originDir.<span class="string">'/dist'</span>, $targetName.$vendorName);</span><br><span class="line">        <span class="keyword">static</span>::recurse_copy($originDir.<span class="string">'/vendor'</span>, $targetName, <span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Performs recursive directory copies</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $src           Path to source files as string</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $dst           Path to target files as string</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bool   $createDstDir  If necessary create all path dirs</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">recurse_copy</span><span class="params">($src, $dst, $createDstDir = true)</span> </span>&#123;</span><br><span class="line">        $dir = opendir($src);</span><br><span class="line">        <span class="keyword">if</span>($createDstDir === <span class="keyword">true</span>) &#123;</span><br><span class="line">            mkdir($dst, <span class="number">0777</span>, <span class="keyword">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">false</span> !== ( $file = readdir($dir)) ) &#123;</span><br><span class="line">            <span class="keyword">if</span> (( $file != <span class="string">'.'</span> ) &amp;&amp; ( $file != <span class="string">'..'</span> )) &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">"\n\t - From: "</span>.$src . <span class="string">'/'</span> . $file;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">"\n\t   To: "</span>.$dst . <span class="string">'/'</span> . $file;</span><br><span class="line">                <span class="keyword">if</span> ( is_dir($src . <span class="string">'/'</span> . $file) ) &#123;</span><br><span class="line">                    <span class="keyword">self</span>::recurse_copy($src . <span class="string">'/'</span> . $file,$dst . <span class="string">'/'</span> . $file);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    copy($src . <span class="string">'/'</span> . $file,$dst . <span class="string">'/'</span> . $file);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        closedir($dir);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Gets and returns the package object depending on jobType</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> PackageEvent $event</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Package</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">getPackage</span><span class="params">(PackageEvent $event)</span> </span>&#123;</span><br><span class="line">        $command = $event-&gt;getOperation()-&gt;getJobType();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ($command === <span class="keyword">static</span>::jobTypeInstall) &#123;</span><br><span class="line">            <span class="keyword">return</span> $event-&gt;getOperation()-&gt;getPackage();</span><br><span class="line">        &#125; <span class="keyword">elseif</span> ($command === <span class="keyword">static</span>::jobTypeUpdate) &#123;</span><br><span class="line">            <span class="keyword">return</span> $event-&gt;getOperation()-&gt;getTargetPackage();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Gets package object and package name to begin operations</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> PackageEvent $event</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">checkPackage</span><span class="params">(PackageEvent $event)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $oPackage    = <span class="keyword">static</span>::getPackage($event);</span><br><span class="line">        $packageName = $oPackage-&gt;getName();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(stripos($packageName, <span class="keyword">self</span>::packageName) === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>($oPackage !== <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">static</span>::copyPublicFiles($event, $oPackage, $packageName);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>La clase es bastante simple, las dos funciones principales postPackageUpdate() y postPackageInstall() serán llamadas por Composer tras hacer el update o instalación de cualquier librería. Estas llaman a checkPackage() para que utilizando la API del packageEvent recibido, compruebe el nombre del paquete de la operación actual para lanzar la copia de archivos si es el layout. El package se obtiene de maneras diferentes en función de la operación, de ahí la necesidad del método getPackage(). La función recurse_copy la saqué de los comentarios escritos en <a href="http://php.net/manual/es/function.copy.php" target="_blank" rel="noopener">php.net</a> para la función copy() y parece que funciona decentemente.</p>
<p><strong>Hará falta actualizar el fichero .gitignore del raíz</strong> para no incluir en los commits la carpeta vendor del apartado público, modificamos /vendor/ a **/vendor/**.</p>
<p>Para terminar con esto necesitamos informar a Composer que tras cada instalación/update debe ejecutar los métodos de esta clase. Así que nuevamente modificamos el composer.json para añadir al apartado Scripts, ya declarado por <a href="https://symfony.com/" target="_blank" rel="noopener">Symfony</a>, la ejecución de nuestro plugin tras cada operación de package.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">    "symfony-scripts": [</span><br><span class="line">        "Incenteev\\ParameterHandler\\ScriptHandler::buildParameters",</span><br><span class="line">        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::buildBootstrap",</span><br><span class="line">        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::clearCache",</span><br><span class="line">        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::installAssets",</span><br><span class="line">        "Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::installRequirementsFile",</span><br><span class="line">        <span class="string">"Sensio\\Bundle\\DistributionBundle\\Composer\\ScriptHandler::prepareDeploymentTarget"</span></span><br><span class="line">    ],</span><br><span class="line">    "post-install-cmd": [</span><br><span class="line">        <span class="string">"@symfony-scripts"</span></span><br><span class="line">    ],</span><br><span class="line">    "post-update-cmd": [</span><br><span class="line">        <span class="string">"@symfony-scripts"</span></span><br><span class="line">    ],</span><br><span class="line">    "post-package-update": [</span><br><span class="line">        <span class="string">"AppBundle\\Install\\PostInstallScript::postPackageUpdate"</span></span><br><span class="line">    ],</span><br><span class="line">    "post-package-install": [</span><br><span class="line">        <span class="string">"AppBundle\\Install\\PostInstallScript::postPackageInstall"</span></span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>Desde el raíz ejecutamos el comando <code>composer update</code> y si hemos hecho todo correctamente, deberían copiarse los fuentes automáticamente al directorio público web/vendor. Es importante tener Composer actualizado mediante <code>composer self-update</code>, no recuerdo bien que versión tenía en Ubuntu pero la API era significativamente diferente a la actual.</p>
<p>Se pueden ver algunas maquetas en la carpeta vendor/BlackrockDigital/startbootstrap-sb-admin-2/pages, de ahí sacaremos la mayoría del código que vamos a usar para crear la base del proyecto. Si accedemos a esta carpeta y hacemos click sobre alguna de ellas, debería abrirse correctamente en el navegador.</p>
<h3 id="Twig-base-layout"><a href="#Twig-base-layout" class="headerlink" title="Twig, base layout"></a>Twig, base layout</h3><p>Symfony <a href="http://symfony.com/doc/current/templating.html" target="_blank" rel="noopener">utiliza un metalenguaje</a> para las plantillas, <a href="http://twig.sensiolabs.org/" target="_blank" rel="noopener">Twig</a>, con el que podremos implementar lógica dentro de la estructura HTML. <a href="http://twig.sensiolabs.org/" target="_blank" rel="noopener">Twig</a> soporta herencia y nos aporta funciones para crear bucles o asignaciones, diferentes herramientas simplificadas propias de un lenguaje de programación. Está pensado para que un maquetador pueda diseñar un sistema que utilizando los datos recibidos del Controller conforme la plantilla HTML. Por ejemplo los menús, que podrán ser diferentes en atención al rol del usuario, o los contenidos, que según sus atributos podrán ser representados de una u otra manera.</p>
<p>Según el estándar que definen muchos frameworks, <a href="https://symfony.com/" target="_blank" rel="noopener">Symfony</a> utiliza un layout base (un archivo HTML y <a href="http://twig.sensiolabs.org/" target="_blank" rel="noopener">Twig</a> con las secciones de titulo, menús y cuerpo), en el que se inyectan las distintas plantillas específicas. De esta manera se evita repetir la lógica o maqueta de todos los elementos comunes a todas las pantallas del sistema.</p>
<p>Echando un ojo al archivo /app/Resources/views/base.html.twig podemos ver la mínima expresión de un layout.</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="meta">&lt;!DOCTYPE html&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">title</span>&gt;</span></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> title %&#125;</span><span class="xml">Welcome!</span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> stylesheets %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/x-icon"</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; asset('favicon.ico') &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> body %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> javascripts %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>Es HTML y algunas etiquetas Twig, en este caso etiquetas de definición de bloques. Son la modularidad del layout, cada bloque será reemplazado, mediante herencia o inclusión, por el contenido procesado de otros templates. Así una vez que tengamos conformada la plantilla base, sólo nos tendremos que preocupar por generar las plantillas de las funcionalidades a implementar, despreocupándonos de tener que repetir para cada caso una la maquetación de las funcionalidades comunes y el infierno que representaría tener que cambiar el comportamiento de estas.</p>
<p>Las partes desarrolladas en <a href="http://twig.sensiolabs.org/" target="_blank" rel="noopener">Twig</a> se identifican fácilmente porque van encerradas entre llaves, hay tres tipos de etiquetas funcionales que se pueden identificar por las llaves y un segundo carácter de apertura y cierre.</p>
<ul>
<li>{{ ... }} Pinta en el template el contenido de la variable entre las llaves o el resultado de una expresión, como podría ser una suma.</li>
<li>{% ... %} Es una etiqueta de acción, controla la lógica del template, dentro irán [elementos de control de flujo](http://twig.sensiolabs.org/doc/tags/index.html), como bucles o condicionales y/o [funciones](http://twig.sensiolabs.org/doc/functions/index.html).</li>
<li>{# ... #} Comentarios, lo que ca entre las llaves con almohadillas se convertirá en un comentario que no se renderizará al HTML resultante.

</li>
</ul>
<p>Otra característica de <a href="http://twig.sensiolabs.org/" target="_blank" rel="noopener">Twig</a> son los <a href="http://twig.sensiolabs.org/doc/filters/index.html" target="_blank" rel="noopener">filtros</a>, modificadores de los contenidos a representar. Se implementan insertando un pipe tras el valor/variable e indicando a continuación el nombre del filtro. Así {{ title|upper }} hará que el texto almacenado en la variable TITLE se renderice en mayúsculas.</p>
<h3 id="Twig-extension-por-herencia-o-inclusion"><a href="#Twig-extension-por-herencia-o-inclusion" class="headerlink" title="Twig, extensión por herencia o inclusión"></a><a href="http://twig.sensiolabs.org/" target="_blank" rel="noopener">Twig</a>, extensión por herencia o inclusión</h3><p>Como ya hemos mencionado el resultado que se mostrara al cliente se compondrá de pequeñas piezas ensambladas para formar un conjunto. La estrategia que debemos seguir es localizar todas las partes que se van a repetir, para generar templates que podamos reutilizar en cualquier otro momento. Hay dos caminos a seguir, por herencia o por inclusión.</p>
<p><strong>Por inclusión</strong>, con la función include indicamos el nombre de un template que deseamos incrustar en el punto exacto de la plantilla padre, donde se declara. Para algunos casos es práctico, pero en muchos sentidos va a limitar la reusabilidad del código, ya que se está definiendo al mismo tiempo la dependencia con esta sub-plantilla.</p>
<p><strong>El sistema de herencia</strong>, en el que generamos una base como la que acabamos de ver, poblada con  bloques y heredada por todos los templates atómicos que vayamos a utilizar. En estos es donde el contenido concreto reemplazará las declaraciones de bloque de los ancestros. Cada vez que un template hereda de otro debe indicar cual es el bloque que va a reemplazar. Si algún bloque queda sin reemplazar se utilizara el contenido escrito entre las etiquetas de la definición como valor por defecto. Este contenido por defecto puede ser lógica <a href="http://twig.sensiolabs.org/" target="_blank" rel="noopener">Twig</a>, así podremos, en caso necesario, reemplazar y modificar el comportamiento estándar de una manera limpia, heredándolo y sobreescribiendo con una plantilla todavía más específica.</p>
<p>Este sería el contenido de la plantilla base original de <a href="https://symfony.com/" target="_blank" rel="noopener">Symfony</a> que vamos a sobreescribir.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;% block title %&#125;Welcome!&#123;% endblock %&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        &#123;% block stylesheets %&#125;&#123;% endblock %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/x-icon"</span> <span class="attr">href</span>=<span class="string">"&#123;&#123; asset('favicon.ico') &#125;&#125;"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        &#123;% block body %&#125;&#123;% endblock %&#125;</span><br><span class="line">        &#123;% block javascripts %&#125;&#123;% endblock %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Si queremos crear una plantilla simple que extienda los contenidos del BODY, para el apartado blog, crearíamos el archivo app/Resources/views/blog/list.html.twig con el siguiente contenido (No es necesario ya que vamos a reescribir estas plantillas).</p>
<p>En la primera línea, es obligatorio incluir la clausula extends.</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">extends</span></span> 'base.html.twig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> body %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Blog Application<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> content %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>

<p>El estándar respetado por la mayoría de los Bundles (paquetes) de <a href="https://symfony.com/" target="_blank" rel="noopener">Symfony</a> es una estructura de plantillas en tres niveles. Siguiendo la propia documentación de <a href="https://symfony.com/" target="_blank" rel="noopener">Symfony</a> nosotros podremos hacer lo mismo, una plantilla base para la aplicación con un bloque Body y por cada funcionalidad que dotemos, blog, usuarios, etc… generamos una base y dentro de esta base es donde se inyectaran las plantillas finales, sobre el bloque content extendido del body.</p>
<h3 id="Modificacion-del-layout-base-de-Symfony"><a href="#Modificacion-del-layout-base-de-Symfony" class="headerlink" title="Modificación del layout base de Symfony"></a>Modificación del layout base de Symfony</h3><p>Siguiendo el ejemplo, con nuestras propias plantillas, vamos a estructurar nuestro layout en tres niveles. Lo primero será reemplazar el contenido del base layout para insertar dentro nuestras plantillas. Así que copiamos el contenido de /vendor/BalckrockDigital/startbootstrap-sb-admin-2/pages/blank.html a /app/Resources/views/base.html.twig. Tras realizar la copia tenemos que actualizar las rutasen esta a los fuentes JS y CSS, ya que nuestra aplicación HTML ha cambiado la ruta del vendor y sb-admin.</p>
<ul>
<li>Reemplazamos en todo el documento “../vendor” por “/vendor”</li>
<li>Reemplazamos en todo el dfocumento “../dist” por “/vendor/startbootstrap-sb-admin-2”</li>
</ul>
<p>Ahora levantamos el servidor (<code>php bin/console server:run</code>) y navegamos a la raíz, el tema debería estar funcionando y veríamos la página. De paso, se puede comprobar que los enlaces a JS están funcionando correctamente al desplegar los menús, recordad que los enlaces del menú no funcionaran, ya que apuntan a páginas estáticas de otro directorio que no hemos copiado.</p>
<p><img src="/images/tutorialSymfony/blankTemplate.png" alt></p>
<p>En principio vamos a dejar de lado el menú, sin modificarlo, vamos a declarar con <a href="http://twig.sensiolabs.org/" target="_blank" rel="noopener">Twig</a>, donde ubicamos los bloques principales de nuestro template cogidas del antiguo base.</p>
<ul>
<li><p>Title<br>Primero localizamos la etiqueta HTML de título y dentro insertamos el bloque.</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">title</span>&gt;</span>SB Admin 2 - Bootstrap Admin Theme<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- Lo cambiamos por --&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">title</span>&gt;</span></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> title %&#125;</span><span class="xml">Welcome!</span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Stylesheets<br>Ya que el template es nuestro framework cliente, los enlaces a los stylesheets los vamos a respetar, insertamos el bloque bajo el último enlace CSS para que nuestros estilos se añadan a la plantilla.</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- Bootstrap Core CSS --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"/vendor/bootstrap/css/bootstrap.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- MetisMenu CSS --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"/vendor/metisMenu/metisMenu.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- Custom CSS --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"/vendor/startbootstrap-sb-admin-2/css/sb-admin-2.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- Custom Fonts --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"/vendor/font-awesome/css/font-awesome.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- WARNING: Respond.js doesn't work if you view the page via file:// --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--[if lt IE 9]&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">![endif]--</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> stylesheets %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>favicon<br>Insertamos este bloque antes del cierre del HEAD para que en caso de querer usarlo podamos inyectarlo. Justo debajo del bloque de estilos, recién modificado.</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> stylesheets %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">     <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"icon"</span> <span class="attr">type</span>=<span class="string">"image/x-icon"</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; asset('favicon.ico') &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> /&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Body<br>Localizamos el apartado de contenido y reemplazamos el interior del container-fluid por el bloque body</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- Page Content --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"page-wrapper"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-12"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"page-header"</span>&gt;</span>Blank<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="comment">&lt;!-- /.col-lg-12 --&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!-- /.row --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- /.container-fluid --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- /#page-wrapper --&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- Lo cambiamos por --&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"page-wrapper"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> body %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- /.container-fluid --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- /#page-wrapper --&gt;</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>javascripts<br>Finalmente antes del cierre del body insertamos el bloque de javascript, justo bajo los enlaces a los fuentes JS de la plantilla original.</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">   </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> javascripts %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>Ya tenemos un primer layout para hacer algunos tests, nuevamente accedemos al index <a href="http://localhost:8000/" target="_blank" rel="noopener">http://localhost:8000/</a> para ver como ha cambiado. Ahora <a href="https://symfony.com/" target="_blank" rel="noopener">Symfony</a> inyecta el contenido al marco central de la pantalla, pero sus propias hojas de estilo modifican el comportamiento estándar de sb-admin y muestran la pagina más pequeña. Ocupa solo un marco central con espacios a ambos lados, con nuestros controladores esto no va suceder, así que de momento no nos preocupamos por ello.</p>
<h3 id="Plantillas-de-contenido-en-tres-niveles"><a href="#Plantillas-de-contenido-en-tres-niveles" class="headerlink" title="Plantillas de contenido en tres niveles"></a>Plantillas de contenido en tres niveles</h3><p>Ahora que ya tenemos el layout creado vamos a volver a desarrollar con nuestro controlador blog. Lo primero es crear una plantilla común para todas utilizar con las acciones de este BlogController, así que creamos la carpeta blog dentro del directorio /app/Resources/views/ , que es la ruta por defecto para los templates. Y dentro escribiremos una primera plantilla denominada layout.html.twig , será un template común para todos los contenidos de blog.</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="comment">&#123;# app/Resources/views/blog/layout.html.twig #&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">extends</span></span> 'base.html.twig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> body %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-12"</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"page-header"</span>&gt;</span>Blog administrarion<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!-- /.col-lg-12 --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> content %&#125;</span><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>

<p>Solo nos falta crear las plantillas específicas a las acciones, de manera que comenzaremos con el index de noticias, la acción listAction dentro de BlogController. En la carpeta /app/Resources/views/blog creamos el archivo index.html.twig con estos contenidos. Además en la ruta /web/css/blog crearemos el archivo vacío index.css, que nos permitirá modificar los estilos necesarios para este template</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="comment">&#123;# app/Resources/views/blog/index.html.twig #&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">extends</span></span> 'blog/layout.html.twig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> content %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">for</span></span> entry in blog_entries %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-lg-12"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel-default"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel-heading"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        </span><span class="template-variable">&#123;&#123; entry.title &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel-body"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123; entry.body &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="comment">&lt;!-- /.col-lg-12 --&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endfor</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">block</span></span> stylesheets %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; asset('css/blog/index.css') &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> /&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>

<p>En el template estamos heredando el layout base del blog que define <strong>content</strong>, y a su vez hereda el layout base de la aplicación que define stylesheets, así que con esta plantilla reemplazamos los dos bloques indicados. En stylesheets se utliza la funcion <strong>asset()</strong>, encargada de completar la ruta relativa al elemento público, ya que los elementos que queremos integrar son relativos al directorio público raíz de nuestra aplicación, pero esta puede acabar como Bundle de otra aplicación o integrada dentro de un subdirectorio del servidor. Con esta función nos olvidaremos de tener que modificar estas rutas según las circunstancias.</p>
<p>En el bloque content también utilizamos la función <strong>for</strong> de Twig para iterar los arrays, muy parecida al foreach de PHP.</p>
<figure class="highlight twig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">for</span></span> value in myarray %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-variable">&#123;&#123; loop.index &#125;&#125;</span><span class="xml"> - </span><span class="template-variable">&#123;&#123; value.property &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="keyword">endfor</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>

<p>En cada iteración value tendrá un valor de myarray, podremos acceder a sus elementos mediante la notacion punto (.). Para acceder a la información específica del bucle, tendremos acceso al array “loop”, en el que podemos comprobar el numero de iteraciones ya pasadas mediante el elemento loop.index (inicio en 1, loop.index0 para consultar el índice contando desde 0). Con loop.length podremos averiguar el numero de elementos del array… podemos ver la información  completa <a href="http://twig.sensiolabs.org/doc/tags/for.html" target="_blank" rel="noopener">aquí</a>.</p>
<p>Volviendo a nuestro BlogController vamos a crear y devolver al template la variable que contiene nuestros posts, de momento vamos a generar un array en código que contenga un índice de tres noticias para ser publicadas en blog/index.html.twig. Así que modificamos nuestra función listAction para que envíe al template las variables y renderice su contenido. Mediante el comando render qué nos retornará un objeto response con el contenido ya montado e inyectado listo para ser devuelto al cliente.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Route</span>("/blog/&#123;page&#125;", name="blog_list", requirements=&#123;"page": "\d+"&#125;)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">listAction</span><span class="params">($page=<span class="number">1</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    $viewData = <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">"blog_entries"</span> =&gt; <span class="keyword">array</span>(</span><br><span class="line">            <span class="keyword">array</span>( <span class="string">"title"</span> =&gt; <span class="string">"First post"</span>, <span class="string">"body"</span> =&gt; <span class="string">"blahblahblah"</span>),</span><br><span class="line">            <span class="keyword">array</span>( <span class="string">"title"</span> =&gt; <span class="string">"Second post"</span>, <span class="string">"body"</span> =&gt; <span class="string">"blehblehbleh"</span>),</span><br><span class="line">            <span class="keyword">array</span>( <span class="string">"title"</span> =&gt; <span class="string">"Third post"</span>, <span class="string">"body"</span> =&gt; <span class="string">"blihblihblih"</span>)</span><br><span class="line">        )</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;render(<span class="string">'blog/index.html.twig'</span>, $viewData);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Si accedemos a la ruta del listAction del blog <a href="http://localhost:8000/blog" target="_blank" rel="noopener">http://localhost:8000/blog</a> podremos ver el resultado final. El layout con las noticias embebidas, a partir de ahora todos los templates que vayamos generando tendrán un aspecto homogéneo y tendremos garantizado el acceso a todas las funcionalidades del framework Bootstrap.</p>
<h3 id="Hemos-llegado-al-fin"><a href="#Hemos-llegado-al-fin" class="headerlink" title="Hemos llegado al fin"></a>Hemos llegado al fin</h3><p>Bueno, por esta sesión creo que es suficiente, me gustaría extenderme más pero creo que lo tratado es suficiente para hacer un punto y aparte. En el próximo post empezaremos con Datatables para generar listados y seguiremos un poco más con Twig, también introduciremos el ORM promulgado por Symfony, <a href="http://www.doctrine-project.org/" target="_blank" rel="noopener">Doctrine</a>.</p>
</div><div class="tags"><a href="/tags/PHP/">PHP</a><a href="/tags/Herramientas/">Herramientas</a><a href="/tags/Tutorial/">Tutorial</a><a href="/tags/Frameworks/">Frameworks</a></div><div class="post-nav"><a href="/tutorial-symfony-doctrine-orm/" class="pre"><i class="icon-previous">Tutorial de Symfony 3: Doctrine ORM y Base de Datos</i></a><a href="/tutorial-symfony/" class="next">Tutorial de Symfony 3: Instalación, routing y controllers<i class="icon-next"></i></a></div><div id="disqus_thread"><script>var disqus_shortname = 'mercenariophp';
var disqus_identifier = 'tutorial-symfony-twig/';
var disqus_title = 'Tutorial de Symfony 3: Twig, base layout con Bootstrap';
var disqus_url = 'https://www.mercenariophp.com/tutorial-symfony-twig/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//mercenariophp.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search" class="search-form-input"><input type="hidden" name="sitesearch" value="https://www.mercenariophp.com"></form></div><div class="widget lessMargin"><div style="text-align: left;"><div style="width: 84px; height: 40px;"><a href="https://twitter.com/mercenariophp" rel="nofollow" target="_blank" class="twitter_big"></a><a href="https://es.linkedin.com/in/moisés-barquín-salgado-b6148296" rel="nofollow" target="_blank" class="linkedin_big"></a></div></div></div><div class="widget"><div class="widget-title">Categorías</div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Desarrollo/">Desarrollo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutoriales-Symfony/">Tutoriales Symfony</a></li></ul></div><div class="widget"><div class="widget-title">Etiquetas</div><div class="tagcloud"><a href="/tags/tests/" style="font-size: 15px;">tests</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/Laravel/" style="font-size: 15px;">Laravel</a> <a href="/tags/PagesGenerator/" style="font-size: 15px;">PagesGenerator</a> <a href="/tags/Herramientas/" style="font-size: 15px;">Herramientas</a> <a href="/tags/Tutorial/" style="font-size: 15px;">Tutorial</a> <a href="/tags/PHPUnit/" style="font-size: 15px;">PHPUnit</a> <a href="/tags/Composer/" style="font-size: 15px;">Composer</a> <a href="/tags/NetBeans/" style="font-size: 15px;">NetBeans</a> <a href="/tags/IDE/" style="font-size: 15px;">IDE</a> <a href="/tags/ReactPHP/" style="font-size: 15px;">ReactPHP</a> <a href="/tags/Slim/" style="font-size: 15px;">Slim</a> <a href="/tags/SQL/" style="font-size: 15px;">SQL</a> <a href="/tags/Pattern/" style="font-size: 15px;">Pattern</a> <a href="/tags/Repositorio/" style="font-size: 15px;">Repositorio</a> <a href="/tags/Frameworks/" style="font-size: 15px;">Frameworks</a></div></div><div class="widget"><div class="widget-title">Recientes</div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/php-dotenv-variables-entorno/">PHP Dotenv, configuración en variables de entorno</a></li><li class="post-list-item"><a class="post-list-link" href="/vacaciones/">Vacaciones</a></li><li class="post-list-item"><a class="post-list-link" href="/retornando-objetos-valor/">Retornando objetos de valor en lugar de arrays</a></li><li class="post-list-item"><a class="post-list-link" href="/tutorial-symfony-bundles-knpmenubundle/">Tutorial de Symfony 3: Bundles y KnpMenuBundle</a></li><li class="post-list-item"><a class="post-list-link" href="/descarga-ficheros-comprimidos-Archivestream-php/">Descarga de ficheros comprimidos con ArchiveStream-php</a></li><li class="post-list-item"><a class="post-list-link" href="/tutorial-symfony-doctrine-orm/">Tutorial de Symfony 3: Doctrine ORM y Base de Datos</a></li><li class="post-list-item"><a class="post-list-link" href="/tutorial-symfony-twig/">Tutorial de Symfony 3: Twig, base layout con Bootstrap</a></li><li class="post-list-item"><a class="post-list-link" href="/tutorial-symfony/">Tutorial de Symfony 3: Instalación, routing y controllers</a></li><li class="post-list-item"><a class="post-list-link" href="/refactorizando-reactphp-slim/">Refactorizando reactphp-slim</a></li><li class="post-list-item"><a class="post-list-link" href="/editor-hackeable-atom/">Editor hackeable Atom, el editor para el siglo 21</a></li></ul></div><div class="widget"><div class="widget-title">Comentarios recientes</div><script type="text/javascript" src="//mercenariophp.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title">Blogroll</div><ul></ul><a href="http://www.phptherightway.com/" title="PHP The Right Way" target="_blank">PHP The Right Way</a></div></div></div></div><div id="footer"><a href="https://twitter.com/mercenariophp" rel="nofollow" class="twitter"></a> <a href="https://es.linkedin.com/in/moisés-barquín-salgado-b6148296" rel="nofollow" class="linkedin"></a> © <a href="/." rel="nofollow">mercenariophp.</a> With<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/jquery.min.js?v=0.0.0"></script><script type="text/javascript" src="/js/totop.js?v=0.0.0"></script><script type="text/javascript" src="/js/fancybox.pack.js?v=0.0.0"></script><script type="text/javascript" src="/js/jquery.fancybox.js?v=0.0.0"></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-78289384-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>